# 路由模式



## 1.分类

* 静态路由：由网络管理员设置并更新，有利于提高末端网络的安全访问控制，但缺乏动态适应网络拓扑结构变化的机制
* 准静态路由：由核心节点专门负责收集路由信息，再向其他节点发布路由器信息
* 动态路由：路由器根据网络情况自动维护路由表



## 2.动态路由算法

> 实现动态建立，维护，更新路由表

### 2.1 局部路由协议

* 任何节点只与相邻节点交互
* 本地维护路由相关信息
* 根据每条链路的距离设定路由表，故也称为**距离-向量路由协议（distance vector routing protocol，V-D）**
* 典型的距离-向量路由协议时RIP（routing information protocol）

#### 2.1.1 V-D路由算法

* 特点：
  * 非常简单的算法，易于配置维护使用
  * 收敛慢，路由环问题
  * 不适合于大的复杂的网络

* 算法思想：
  * 每个路由器动态计算维护一张距离向量表
  * 收到IP包后根据距离向量表决定如何转发
  * 路径代价的度量单位可以是时间延迟，物理距离，经过的路由器个数或其他参数，若本路由器不能到达目的网络，代价为无穷大
  * 每个路由器必须知道到他相邻路由器的距离
* 工作原理：
  * 每隔一段时间计算到相邻路由器的代价
  * 每隔一段时间相邻路由器之间交换一次距离向量表，由最佳路径和最小代价来更新自己的路由表（不考虑自己原来的路由信息）
* 存在的问题：
  * 在一个稳定的网络中，V-D算法工作的非常好。当网络出现故障时，可能回出现**路径环**，要打破路径环，则花费较长的时间，这就是**慢收敛问题**
* 解决方法：
  * 水平分割法
  * 带出发更新的毒性反转法

### 2.2 全局路由协议



